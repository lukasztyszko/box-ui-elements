"use strict";(globalThis.webpackChunkbox_ui_elements=globalThis.webpackChunkbox_ui_elements||[]).push([[35806],{"./node_modules/@storybook/addon-styling/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/resolve-url-loader/index.js!./node_modules/@storybook/addon-styling/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[13].use[3]!./src/elements/content-sidebar/ActivitySidebar.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_storybook_addon_styling_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/addon-styling/node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_storybook_addon_styling_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_storybook_addon_styling_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_storybook_addon_styling_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/addon-styling/node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_storybook_addon_styling_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_storybook_addon_styling_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".bcs-activity .bcs-scroll-content{width:100%;height:100%}.bcs-activity--full .bcs-content-header{margin:0;padding:0 20px}","",{version:3,sources:["webpack://./src/elements/content-sidebar/ActivitySidebar.scss"],names:[],mappings:"AAGI,kCACI,UAAA,CACA,WAAA,CAKJ,wCACI,QAAA,CACA,cAAA",sourcesContent:["@import '../common/variables';\n\n.bcs-activity {\n    .bcs-scroll-content {\n        width: 100%;\n        height: 100%;\n    }\n}\n\n.bcs-activity--full {\n    .bcs-content-header {\n        margin: 0;\n        padding: 0 $sidebarActivityFeedSpacingHorizontal;\n    }\n}\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/@storybook/addon-styling/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/resolve-url-loader/index.js!./node_modules/@storybook/addon-styling/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[13].use[3]!./src/elements/content-sidebar/ActivitySidebarFilter.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_storybook_addon_styling_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/addon-styling/node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_storybook_addon_styling_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_storybook_addon_styling_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_storybook_addon_styling_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/addon-styling/node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_storybook_addon_styling_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_storybook_addon_styling_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".bcs-ActivitySidebarFilter .menu-toggle{font-weight:bold;font-size:16px}","",{version:3,sources:["webpack://./src/elements/content-sidebar/ActivitySidebarFilter.scss"],names:[],mappings:"AAAA,wCACI,gBAAA,CACA,cAAA",sourcesContent:[".bcs-ActivitySidebarFilter .menu-toggle {\n    font-weight: bold;\n    font-size: 16px;\n}\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/@storybook/addon-styling/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/resolve-url-loader/index.js!./node_modules/@storybook/addon-styling/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[13].use[3]!./src/elements/content-sidebar/AddTaskMenu.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_storybook_addon_styling_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/addon-styling/node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_storybook_addon_styling_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_storybook_addon_styling_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_storybook_addon_styling_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/addon-styling/node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_storybook_addon_styling_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_storybook_addon_styling_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".bcs-AddTaskMenu{margin-top:4px;padding:12px;background-color:#fff;border:1px solid #e8e8e8;border-radius:8px;box-shadow:0 4px 12px 0 rgba(0,0,0,.1)}.bcs-AddTaskMenu-menuItem{display:flex;max-width:256px;min-height:80px;white-space:normal;padding:8px 48px 8px 8px;border-radius:8px;cursor:pointer}.bcs-AddTaskMenu-menuItem:focus{outline:none !important}.bcs-AddTaskMenu-menuItem.is-active{background-color:rgba(34,34,34,.05)}.bcs-AddTaskMenu-title{font-weight:bold}.bcs-AddTaskMenu-description{color:#6f6f6f;font-size:11px;line-height:14px}","",{version:3,sources:["webpack://./src/elements/content-sidebar/AddTaskMenu.scss","webpack://./src/styles/mixins/_overlay.scss","webpack://./src/styles/constants/_layout.scss","webpack://./src/styles/constants/_colors.scss"],names:[],mappings:"AAKA,iBCsBI,cCTY,CDUZ,YAAA,CACA,qBE1BI,CF2BJ,wBAAA,CACA,iBCpB2B,CDiC3B,sCAAA,CDnCJ,0BACI,YAAA,CACA,eARoB,CASpB,eAAA,CACA,kBAAA,CCLA,wBAAA,CACA,iBCE2B,CDD3B,cAAA,CDKA,gCACI,uBAAA,CCJJ,oCACI,mCAAA,CDSR,uBACI,gBAAA,CAGJ,6BACI,aGNU,CHOV,cAAA,CACA,gBAAA",sourcesContent:["@import '../common/variables';\n@import '../../styles/mixins/overlay';\n\n$bcs-AddTaskMenu-width: 256px;\n\n.bcs-AddTaskMenu {\n    @include bdl-Overlay-container;\n}\n\n.bcs-AddTaskMenu-menuItem {\n    display: flex;\n    max-width: $bcs-AddTaskMenu-width;\n    min-height: 80px;\n    white-space: normal;\n\n    &:focus {\n        outline: none !important; // Override needed until default menus are updated\n    }\n\n    @include bdl-Overlay-listItemContainer;\n}\n\n.bcs-AddTaskMenu-title {\n    font-weight: bold;\n}\n\n.bcs-AddTaskMenu-description {\n    color: $bdl-gray-65;\n    font-size: 11px;\n    line-height: 14px;\n}\n","@import '../variables';\n\n/**\n * Mixin to make standard the style for selected items in flyout lists\n * Example:\n * - data list components\n */\n@mixin bdl-Overlay-listItemContainer {\n    padding: ($bdl-grid-unit * 2) ($bdl-grid-unit * 12) ($bdl-grid-unit * 2) ($bdl-grid-unit * 2);\n    border-radius: $bdl-border-radius-size-large;\n    cursor: pointer;\n\n    &.is-active {\n        background-color: fade-out($bdl-gray, .95);\n    }\n}\n\n/**\n * Mixin to make standard the container treatment for any overlapping containers (Overlays)\n * Component Examples:\n * - Flyout\n * - Overlay\n * - Pill Selector Dropdown\n * Feature Examples:\n * - Header Flyout\n */\n@mixin bdl-Overlay-container {\n    margin-top: $bdl-grid-unit;\n    padding: $bdl-grid-unit * 3;\n    background-color: $white;\n    border: 1px solid $bdl-gray-10;\n    border-radius: $bdl-border-radius-size-large;\n\n    @include bdl-Overlay-containerShadow;\n}\n\n/**\n * Mixin to make standard the shadow treatment for any overlapping containers\n * Example:\n * - custom flyouts with different border designs\n * - tooltips\n * - FTUX tooltip guides\n */\n@mixin bdl-Overlay-containerShadow {\n    box-shadow: 0 $bdl-grid-unit ($bdl-grid-unit * 3) 0 rgba($black, .1);\n}\n","// Z-Indexes\n$modal-dialog-z-index: 160 !default;\n$menu-z-index: 170 !default;\n$submenu-z-index: 171 !default;\n$overlay-z-index: 190 !default;\n$tooltip-z-index: 190 !default;\n$notifications-wrapper-z-index: 200 !default;\n\n// Borders\n$bdl-border-radius-size: 4px;\n$bdl-border-radius-size-med: $bdl-border-radius-size * 1.5;\n$bdl-border-radius-size-large: $bdl-border-radius-size * 2;\n$bdl-border-radius-size-xlarge: $bdl-border-radius-size * 3;\n\n// Drop shadows\n$bdl-header-box-shadow: 0 0 10px 0 rgba(0, 0, 0, .05);\n\n// Spacing\n$bdl-grid-unit: 4px !default;\n$bdl-grid-unit-px: 4 !default; // unitless grid unit (defined in pixels for manual multiplication in JS)\n\n// Headers\n$bdl-header-height: 64px;\n","// Box Design Language Colors\n// confirm with design before extending\n\n$white: #fff !default;\n$black: #000 !default;\n$countBadgeBackground: #e9163c !default;\n\n// Box/Primary Blues\n$bdl-box-blue: #0061d5 !default;\n$bdl-box-blue-80: #3381dd !default;\n$bdl-box-blue-50: #7fb0ea !default;\n$bdl-box-blue-40: #99c0ee !default;\n$bdl-box-blue-30: #b2cff2 !default;\n$bdl-box-blue-20: #ccdff7 !default;\n$bdl-box-blue-10: #e5effa !default;\n$bdl-box-blue-05: #f2f7fd !default;\n$bdl-box-blue-02: #fafcfe !default;\n\n// Box/Primary Grays\n$bdl-gray: #222 !default;\n$bdl-gray-80: #4e4e4e !default;\n$bdl-gray-65: #6f6f6f !default;\n$bdl-gray-50: #909090 !default;\n$bdl-gray-40: #a7a7a7 !default;\n$bdl-gray-30: #bcbcbc !default;\n$bdl-gray-20: #d3d3d3 !default;\n$bdl-gray-10: #e8e8e8 !default;\n$bdl-gray-05: #f4f4f4 !default;\n$bdl-gray-02: #fbfbfb !default;\n\n// Dark Blues\n$bdl-dark-blue: #003c84 !default;\n$bdl-dark-blue-50: #7f9dc1 !default;\n$bdl-dark-blue-20: #ccd8e6 !default;\n$bdl-dark-blue-10: #e5ebf2 !default;\n$bdl-dark-blue-05: #f2f5f9 !default;\n$bdl-dark-blue-02: #fafbfd !default;\n\n// Light Blues\n$bdl-light-blue: #2486fc !default;\n$bdl-light-blue-50: #91c2fd !default;\n$bdl-light-blue-20: #d3e7fe !default;\n$bdl-light-blue-10: #e9f2fe !default;\n$bdl-light-blue-05: #f4f9ff !default;\n$bdl-light-blue-02: #fbfdff !default;\n\n// Yelloranges\n$bdl-yellorange: #f5b31b !default;\n$bdl-yellorange-50: #fad98d !default;\n$bdl-yellorange-20: #fdf0d1 !default;\n$bdl-yellorange-10: #fef7e8 !default;\n$bdl-yellorange-05: #fefbf3 !default;\n$bdl-yellorange-02: #fffefb !default;\n\n// Yellows\n$bdl-yellow: #ffd700 !default;\n$bdl-yellow-50: #ffeb7f !default;\n$bdl-yellow-20: #fff7cc !default;\n$bdl-yellow-10: #fffbe5 !default;\n$bdl-yellow-05: #fffdf2 !default;\n$bdl-yellow-02: #fffefa !default;\n\n// Green Lights\n$bdl-green-light: #26c281 !default;\n$bdl-green-light-50: #92e0c0 !default;\n$bdl-green-light-20: #d4f3e6 !default;\n$bdl-green-light-10: #e9f8f2 !default;\n$bdl-green-light-05: #f4fcf8 !default;\n$bdl-green-light-02: #fbfefd !default;\n\n// Grimaces\n$bdl-grimace: #4826c2 !default;\n$bdl-grimace-50: #a392e0 !default;\n$bdl-grimace-20: #dad4f3 !default;\n$bdl-grimace-10: #ece9f8 !default;\n$bdl-grimace-05: #f6f4fc !default;\n$bdl-grimace-02: #fbfbfe !default;\n\n// Orange\n$bdl-orange: #f1811a !default;\n$bdl-orange-50: #f8c08c !default;\n$bdl-orange-20: #fce6d1 !default;\n$bdl-orange-10: #fdf2e8 !default;\n$bdl-orange-05: #fef8f3 !default;\n$bdl-orange-02: #fffdfb !default;\n\n// Purple Rains\n$bdl-purple-rain: #9f3fed !default;\n$bdl-purple-rain-50: #cf9ff6 !default;\n$bdl-purple-rain-20: #ecd9fb !default;\n$bdl-purple-rain-10: #f5ebfd !default;\n$bdl-purple-rain-05: #faf5fe !default;\n$bdl-purple-rain-02: #fdfbff !default;\n\n// Watermelon Reds\n$bdl-watermelon-red: #ed3757 !default;\n$bdl-watermelon-red-50: #f69bab !default;\n$bdl-watermelon-red-20: #fbd7dd !default;\n$bdl-watermelon-red-10: #fdebee !default;\n$bdl-watermelon-red-05: #fef5f6 !default;\n$bdl-watermelon-red-02: #fffbfc !default;\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./src/elements/content-sidebar/ActivitySidebar.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ActivitySidebarComponent:()=>ActivitySidebar_ActivitySidebar,activityFeedInlineError:()=>activityFeedInlineError,default:()=>elements_content_sidebar_ActivitySidebar});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),debounce=__webpack_require__("./node_modules/lodash/debounce.js"),debounce_default=__webpack_require__.n(debounce),flow=__webpack_require__("./node_modules/lodash/flow.js"),flow_default=__webpack_require__.n(flow),get=__webpack_require__("./node_modules/lodash/get.js"),get_default=__webpack_require__.n(get),noop=__webpack_require__("./node_modules/lodash/noop.js"),noop_default=__webpack_require__.n(noop),uniqueId=__webpack_require__("./node_modules/lodash/uniqueId.js"),uniqueId_default=__webpack_require__.n(uniqueId),message=__webpack_require__("./node_modules/react-intl/lib/src/components/message.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),ActivityFeed=__webpack_require__("./src/elements/content-sidebar/activity-feed/activity-feed/ActivityFeed.js"),components_button=__webpack_require__("./src/components/button/index.ts"),dropdown_menu=__webpack_require__("./src/components/dropdown-menu/index.js"),MenuToggle=__webpack_require__("./src/components/dropdown-menu/MenuToggle.js"),menu=__webpack_require__("./src/components/menu/index.ts"),IconTaskApproval=__webpack_require__("./src/icons/two-toned/IconTaskApproval.tsx"),IconTaskGeneral=__webpack_require__("./src/icons/two-toned/IconTaskGeneral.tsx"),messages=__webpack_require__("./src/elements/content-sidebar/messages.js"),constants=__webpack_require__("./src/constants.js"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/@storybook/addon-styling/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/@storybook/addon-styling/node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/@storybook/addon-styling/node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/@storybook/addon-styling/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/@storybook/addon-styling/node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/@storybook/addon-styling/node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),AddTaskMenu=__webpack_require__("./node_modules/@storybook/addon-styling/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/resolve-url-loader/index.js!./node_modules/@storybook/addon-styling/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[13].use[3]!./src/elements/content-sidebar/AddTaskMenu.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(AddTaskMenu.Z,options);AddTaskMenu.Z&&AddTaskMenu.Z.locals&&AddTaskMenu.Z.locals;var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const AddTaskMenu_AddTaskMenu=props=>(0,jsx_runtime.jsxs)(dropdown_menu.Z,{constrainToScrollParent:!0,isRightAligned:!0,children:[(0,jsx_runtime.jsx)(components_button.Z,{isDisabled:props.isDisabled,type:"button",setRef:props.setAddTaskButtonRef,children:(0,jsx_runtime.jsx)(MenuToggle.Z,{children:(0,jsx_runtime.jsx)(message.Z,_objectSpread({},messages.Z.tasksAddTask))})}),(0,jsx_runtime.jsxs)(menu.v2,{className:"bcs-AddTaskMenu",children:[(0,jsx_runtime.jsxs)(menu.sN,{className:"bcs-AddTaskMenu-menuItem",onClick:()=>props.onMenuItemClick(constants.KYR),children:[(0,jsx_runtime.jsx)("div",{className:"bcs-AddTaskMenu-icon",children:(0,jsx_runtime.jsx)(IconTaskGeneral.Z,{width:30,height:30})}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{className:"bcs-AddTaskMenu-title",children:(0,jsx_runtime.jsx)(message.Z,_objectSpread({},messages.Z.taskAddTaskGeneral))}),(0,jsx_runtime.jsx)("div",{className:"bcs-AddTaskMenu-description",children:(0,jsx_runtime.jsx)(message.Z,_objectSpread({},messages.Z.taskAddTaskGeneralDescription))})]})]}),(0,jsx_runtime.jsxs)(menu.sN,{className:"bcs-AddTaskMenu-menuItem",onClick:()=>props.onMenuItemClick(constants.TiP),children:[(0,jsx_runtime.jsx)("div",{className:"bcs-AddTaskMenu-icon",children:(0,jsx_runtime.jsx)(IconTaskApproval.Z,{width:30,height:30})}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{className:"bcs-AddTaskMenu-title",children:(0,jsx_runtime.jsx)(message.Z,_objectSpread({},messages.Z.taskAddTaskApproval))}),(0,jsx_runtime.jsx)("div",{className:"bcs-AddTaskMenu-description",children:(0,jsx_runtime.jsx)(message.Z,_objectSpread({},messages.Z.taskAddTaskApprovalDescription))})]})]})]})]});AddTaskMenu_AddTaskMenu.displayName="AddTaskMenu",AddTaskMenu_AddTaskMenu.__docgenInfo={description:"",methods:[],displayName:"AddTaskMenu",props:{isDisabled:{required:!0,flowType:{name:"boolean"},description:""},onMenuItemClick:{required:!0,flowType:{name:"signature",type:"function",raw:"(taskType: TaskType) => void",signature:{arguments:[{name:"taskType",type:{name:"TaskType"}}],return:{name:"void"}}},description:""},setAddTaskButtonRef:{required:!1,flowType:{name:"signature",type:"function",raw:"(element: HTMLButtonElement) => void",signature:{arguments:[{name:"element",type:{name:"HTMLButtonElement"}}],return:{name:"void"}}},description:""}}};const elements_content_sidebar_AddTaskMenu=AddTaskMenu_AddTaskMenu;var TaskModal=__webpack_require__("./src/elements/content-sidebar/TaskModal.js");function AddTaskButton_defineProperty(obj,key,value){return(key=function AddTaskButton_toPropertyKey(t){var i=function AddTaskButton_toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class AddTaskButton extends react.Component{constructor(){super(...arguments),AddTaskButton_defineProperty(this,"buttonRef",react.createRef()),AddTaskButton_defineProperty(this,"state",{error:null,isTaskFormOpen:!1,taskType:constants.TiP}),AddTaskButton_defineProperty(this,"handleClickMenuItem",(taskType=>{this.props.history.replace({state:{open:!0}}),this.setState({isTaskFormOpen:!0,taskType})})),AddTaskButton_defineProperty(this,"handleModalClose",(()=>{const{onTaskModalClose}=this.props;this.setState({isTaskFormOpen:!1,error:null}),this.buttonRef.current&&this.buttonRef.current.focus(),onTaskModalClose()})),AddTaskButton_defineProperty(this,"handleSubmitError",(e=>this.setState({error:e}))),AddTaskButton_defineProperty(this,"setAddTaskButtonRef",(element=>{this.buttonRef.current=element}))}render(){const{isDisabled,taskFormProps}=this.props,{isTaskFormOpen,taskType,error}=this.state;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(elements_content_sidebar_AddTaskMenu,{isDisabled,onMenuItemClick:this.handleClickMenuItem,setAddTaskButtonRef:this.setAddTaskButtonRef}),(0,jsx_runtime.jsx)(TaskModal.Z,{error,onSubmitError:this.handleSubmitError,onSubmitSuccess:this.handleModalClose,onModalClose:this.handleModalClose,isTaskFormOpen,taskFormProps,taskType})]})}}AddTaskButton.displayName="AddTaskButton",AddTaskButton_defineProperty(AddTaskButton,"defaultProps",{isDisabled:!1}),AddTaskButton.__docgenInfo={description:"",methods:[{name:"handleClickMenuItem",docblock:null,modifiers:[],params:[{name:"taskType",type:{name:"TaskType",alias:"TaskType"}}],returns:null},{name:"handleModalClose",docblock:null,modifiers:[],params:[],returns:null},{name:"handleSubmitError",docblock:null,modifiers:[],params:[{name:"e",type:{name:"ElementsXhrError",alias:"ElementsXhrError"}}],returns:null},{name:"setAddTaskButtonRef",docblock:null,modifiers:[],params:[{name:"element",type:{name:"HTMLButtonElement",alias:"HTMLButtonElement"}}],returns:null}],displayName:"AddTaskButton",props:{isDisabled:{defaultValue:{value:"false",computed:!1},required:!1,flowType:{name:"boolean"},description:""},history:{required:!0,flowType:{name:"RouterHistory"},description:""},onTaskModalClose:{required:!0,flowType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},taskFormProps:{required:!0,flowType:{name:"TaskFormProps"},description:""}}};const content_sidebar_AddTaskButton=(0,react_router.EN)(AddTaskButton);__webpack_require__("./src/api/index.js");var common_messages=__webpack_require__("./src/elements/common/messages.js"),SidebarContent=__webpack_require__("./src/elements/content-sidebar/SidebarContent.js"),annotator_context=__webpack_require__("./src/elements/common/annotator-context/index.ts"),logger_constants=__webpack_require__("./src/elements/common/logger/constants.js"),error=__webpack_require__("./src/utils/error.js"),performance=__webpack_require__("./src/utils/performance.js"),api_context=__webpack_require__("./src/elements/common/api-context/index.js"),error_boundary=__webpack_require__("./src/elements/common/error-boundary/index.js"),feature_checking=__webpack_require__("./src/elements/common/feature-checking/index.js"),logger=__webpack_require__("./src/elements/common/logger/index.js"),routing=__webpack_require__("./src/elements/common/routing/index.js"),plain_button=__webpack_require__("./src/components/plain-button/index.ts"),ActivitySidebarFilter=__webpack_require__("./node_modules/@storybook/addon-styling/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/resolve-url-loader/index.js!./node_modules/@storybook/addon-styling/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[13].use[3]!./src/elements/content-sidebar/ActivitySidebarFilter.scss"),ActivitySidebarFilter_options={};ActivitySidebarFilter_options.styleTagTransform=styleTagTransform_default(),ActivitySidebarFilter_options.setAttributes=setAttributesWithoutAttributes_default(),ActivitySidebarFilter_options.insert=insertBySelector_default().bind(null,"head"),ActivitySidebarFilter_options.domAPI=styleDomAPI_default(),ActivitySidebarFilter_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ActivitySidebarFilter.Z,ActivitySidebarFilter_options);ActivitySidebarFilter.Z&&ActivitySidebarFilter.Z.locals&&ActivitySidebarFilter.Z.locals;function ActivitySidebarFilter_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ActivitySidebarFilter_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ActivitySidebarFilter_ownKeys(Object(t),!0).forEach((function(r){ActivitySidebarFilter_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ActivitySidebarFilter_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ActivitySidebarFilter_defineProperty(obj,key,value){return(key=function ActivitySidebarFilter_toPropertyKey(t){var i=function ActivitySidebarFilter_toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const filterOptionToStatus={[constants.S8M]:constants.S8M,[constants.MKb]:constants.Wz3,[constants.ZQ_]:constants.lay,[constants.L5x]:constants.PNZ};function ActivitySidebarFilter_ActivitySidebarFilter(_ref){let{activityFilterOptions,feedItemType=constants.S8M,onFeedItemTypeClick}=_ref;const allFilterMessage=(options=>{const commentActivityFilterOptions=[constants.S8M,constants.ZQ_,constants.MKb];return options.every((option=>commentActivityFilterOptions.includes(option)))})(activityFilterOptions)?messages.Z.activitySidebarFilterOptionAllComments:messages.Z.activitySidebarFilterOptionAllActivity,statusMap={[constants.S8M]:{msg:allFilterMessage,val:constants.S8M},[constants.Wz3]:{msg:messages.Z.activitySidebarFilterOptionOpen,val:constants.Wz3},[constants.lay]:{msg:messages.Z.activitySidebarFilterOptionResolved,val:constants.lay},[constants.PNZ]:{msg:messages.Z.activitySidebarFilterOptionTasks,val:constants.PNZ}};return(0,jsx_runtime.jsx)("div",{className:"bcs-ActivitySidebarFilter",children:(0,jsx_runtime.jsxs)(dropdown_menu.Z,{className:"bcs-ActivitySidebarFilter-dropdownMenu",constrainToWindow:!0,children:[(0,jsx_runtime.jsx)(plain_button.Z,{type:"button",children:(0,jsx_runtime.jsx)(dropdown_menu.O,{children:(0,jsx_runtime.jsx)(message.Z,ActivitySidebarFilter_objectSpread({},statusMap[feedItemType].msg))})}),(0,jsx_runtime.jsx)(menu.v2,{children:activityFilterOptions.map((filterOption=>{const status=filterOptionToStatus[filterOption];return(0,jsx_runtime.jsx)(menu.p,{isSelected:status===feedItemType,onClick:()=>onFeedItemTypeClick(statusMap[status].val),children:(0,jsx_runtime.jsx)(message.Z,ActivitySidebarFilter_objectSpread({},statusMap[status].msg))},status)}))})]})})}ActivitySidebarFilter_ActivitySidebarFilter.displayName="ActivitySidebarFilter",ActivitySidebarFilter_ActivitySidebarFilter.__docgenInfo={description:"",methods:[],displayName:"ActivitySidebarFilter",props:{feedItemType:{defaultValue:{value:"ACTIVITY_FILTER_OPTION_ALL",computed:!0},required:!1,flowType:{name:"ActivityFilterItemType"},description:""},activityFilterOptions:{required:!0,flowType:{name:"Array",elements:[{name:"ActivityFilterOption"}],raw:"ActivityFilterOption[]"},description:""},onFeedItemTypeClick:{required:!0,flowType:{name:"signature",type:"function",raw:"(status?: ActivityFilterItemType) => void",signature:{arguments:[{name:"status",type:{name:"ActivityFilterItemType"}}],return:{name:"void"}}},description:""}}};const elements_content_sidebar_ActivitySidebarFilter=ActivitySidebarFilter_ActivitySidebarFilter;var ActivitySidebar=__webpack_require__("./node_modules/@storybook/addon-styling/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/resolve-url-loader/index.js!./node_modules/@storybook/addon-styling/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[13].use[3]!./src/elements/content-sidebar/ActivitySidebar.scss"),ActivitySidebar_options={};ActivitySidebar_options.styleTagTransform=styleTagTransform_default(),ActivitySidebar_options.setAttributes=setAttributesWithoutAttributes_default(),ActivitySidebar_options.insert=insertBySelector_default().bind(null,"head"),ActivitySidebar_options.domAPI=styleDomAPI_default(),ActivitySidebar_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ActivitySidebar.Z,ActivitySidebar_options);ActivitySidebar.Z&&ActivitySidebar.Z.locals&&ActivitySidebar.Z.locals;function ActivitySidebar_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ActivitySidebar_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ActivitySidebar_ownKeys(Object(t),!0).forEach((function(r){ActivitySidebar_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ActivitySidebar_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ActivitySidebar_defineProperty(obj,key,value){return(key=function ActivitySidebar_toPropertyKey(t){var i=function ActivitySidebar_toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const activityFeedInlineError={inlineError:{title:common_messages.default.errorOccured,content:common_messages.default.activityFeedItemApiError}},MARK_NAME_DATA_LOADING="".concat(constants.fTU,"_data_loading"),MARK_NAME_DATA_READY="".concat(constants.fTU,"_").concat(logger_constants.CL),MARK_NAME_JS_READY="".concat(constants.fTU,"_").concat(logger_constants.qZ);(0,performance.B)(MARK_NAME_JS_READY);class ActivitySidebar_ActivitySidebar extends react.PureComponent{constructor(props){var _this;super(props),_this=this,ActivitySidebar_defineProperty(this,"handleAnnotationDelete",(_ref=>{let{id,permissions}=_ref;const{api,emitAnnotationRemoveEvent,file}=this.props;emitAnnotationRemoveEvent(id,!0),api.getFeedAPI(!1).deleteAnnotation(file,id,permissions,this.deleteAnnotationSuccess.bind(this,id),this.feedErrorCallback),this.fetchFeedItems()})),ActivitySidebar_defineProperty(this,"handleAnnotationEdit",(_ref2=>{let{id,text,permissions}=_ref2;const{api,emitAnnotationUpdateEvent,file}=this.props;emitAnnotationUpdateEvent({id,description:{message:text}},!0),api.getFeedAPI(!1).updateAnnotation(file,id,text,void 0,permissions,(annotation=>{emitAnnotationUpdateEvent(annotation),this.feedSuccessCallback()}),this.feedErrorCallback),this.fetchFeedItems()})),ActivitySidebar_defineProperty(this,"handleAnnotationStatusChange",(_ref3=>{let{id,permissions,status}=_ref3;const{api,emitAnnotationUpdateEvent,file}=this.props;emitAnnotationUpdateEvent({id,status},!0),api.getFeedAPI(!1).updateAnnotation(file,id,void 0,status,permissions,(annotation=>{emitAnnotationUpdateEvent(annotation),this.feedSuccessCallback()}),this.feedErrorCallback),this.fetchFeedItems()})),ActivitySidebar_defineProperty(this,"feedSuccessCallback",(()=>{this.fetchFeedItems()})),ActivitySidebar_defineProperty(this,"feedErrorCallback",((e,code,contextInfo)=>{this.errorCallback(e,code,contextInfo),this.fetchFeedItems()})),ActivitySidebar_defineProperty(this,"createTask",((message,assignees,taskType,dueAt,completionRule,onSuccess,onError)=>{const{api,currentUser,file}=this.props;if(!currentUser)throw(0,error.pG)();api.getFeedAPI(!1).createTaskNew(file,currentUser,message,assignees,taskType,dueAt,completionRule,(()=>{onSuccess&&onSuccess(),this.feedSuccessCallback()}),((e,code,contextInfo)=>{onError&&onError(e,code,contextInfo),this.feedErrorCallback(e,code,contextInfo)})),this.fetchFeedItems()})),ActivitySidebar_defineProperty(this,"deleteTask",(task=>{const{file,api,onTaskDelete}=this.props;api.getFeedAPI(!1).deleteTaskNew(file,task,(taskId=>{this.feedSuccessCallback(),onTaskDelete(taskId)}),this.feedErrorCallback),this.fetchFeedItems()})),ActivitySidebar_defineProperty(this,"updateTask",((task,onSuccess,onError)=>{const{api,file,onTaskUpdate}=this.props;api.getFeedAPI(!1).updateTaskNew(file,task,(()=>{this.feedSuccessCallback(),onSuccess&&onSuccess(),onTaskUpdate()}),((e,code)=>{onError&&onError(e,code),this.feedErrorCallback(e,code)})),this.fetchFeedItems()})),ActivitySidebar_defineProperty(this,"updateTaskAssignment",((taskId,taskAssignmentId,status)=>{const{api,currentUser={},file,onTaskAssignmentUpdate}=this.props;api.getFeedAPI(!1).updateTaskCollaborator(file,taskId,taskAssignmentId,status,(()=>{this.feedSuccessCallback(),onTaskAssignmentUpdate(taskId,taskAssignmentId,status,currentUser.id)}),this.feedErrorCallback),this.fetchFeedItems()})),ActivitySidebar_defineProperty(this,"deleteComment",(_ref4=>{let{id,permissions}=_ref4;const{api,file,hasReplies,onCommentDelete}=this.props,successCallback=comment=>{this.feedSuccessCallback(),onCommentDelete(comment)};hasReplies?api.getFeedAPI(!1).deleteThreadedComment(file,id,permissions,successCallback,this.feedErrorCallback):api.getFeedAPI(!1).deleteComment(file,id,permissions,successCallback,this.feedErrorCallback),this.fetchFeedItems()})),ActivitySidebar_defineProperty(this,"deleteReply",(_ref5=>{let{id,parentId,permissions}=_ref5;const{api,emitAnnotationReplyDeleteEvent,file}=this.props;emitAnnotationReplyDeleteEvent(id,parentId,!0),api.getFeedAPI(!1).deleteReply(file,id,parentId,permissions,this.deleteReplySuccessCallback.bind(this,id,parentId),this.feedErrorCallback),this.fetchFeedItems()})),ActivitySidebar_defineProperty(this,"deleteReplySuccessCallback",((id,parentId)=>{const{emitAnnotationReplyDeleteEvent}=this.props;this.feedSuccessCallback(),emitAnnotationReplyDeleteEvent(id,parentId)})),ActivitySidebar_defineProperty(this,"updateComment",((id,text,status,hasMention,permissions,onSuccess,onError)=>{const{api,file,hasReplies,onCommentUpdate}=this.props,errorCallback=(e,code)=>{onError&&onError(e,code),this.feedErrorCallback(e,code)},successCallback=()=>{this.feedSuccessCallback(),onSuccess&&onSuccess(),onCommentUpdate()};hasReplies?api.getFeedAPI(!1).updateThreadedComment(file,id,text,status,permissions,successCallback,errorCallback):api.getFeedAPI(!1).updateComment(file,id,text||"",hasMention,permissions,successCallback,errorCallback),this.fetchFeedItems()})),ActivitySidebar_defineProperty(this,"updateReply",((id,parentId,text,permissions,onSuccess,onError)=>{const{api,emitAnnotationReplyUpdateEvent,file}=this.props;emitAnnotationReplyUpdateEvent({id,tagged_message:text},parentId,!0),api.getFeedAPI(!1).updateReply(file,id,parentId,text,permissions,this.updateReplySuccessCallback.bind(this,parentId,onSuccess),((error,code)=>{onError&&onError(error,code),this.feedErrorCallback(error,code)})),this.fetchFeedItems()})),ActivitySidebar_defineProperty(this,"updateReplies",((id,replies)=>{const{activeFeedEntryId,api,file,history}=this.props,{feedItems}=this.state;if(!feedItems)return;const feedAPI=api.getFeedAPI(!1);feedAPI.file=file,activeFeedEntryId&&1===replies.length&&feedItems.some((item=>item.id===id&&item===this.getCommentFeedItemByReplyId(feedItems,activeFeedEntryId)))&&history.replace(this.getActiveCommentPath()),feedAPI.updateFeedItem({replies},id),this.fetchFeedItems()})),ActivitySidebar_defineProperty(this,"updateReplySuccessCallback",((parentId,onSuccess,reply)=>{const{emitAnnotationReplyUpdateEvent}=this.props;this.feedSuccessCallback(),emitAnnotationReplyUpdateEvent(reply,parentId),onSuccess&&onSuccess()})),ActivitySidebar_defineProperty(this,"createComment",((text,hasMention)=>{const{api,currentUser,file,hasReplies,onCommentCreate}=this.props;if(!currentUser)throw(0,error.pG)();const successCallback=comment=>{onCommentCreate(comment),this.feedSuccessCallback()};hasReplies?api.getFeedAPI(!1).createThreadedComment(file,currentUser,text,successCallback,this.feedErrorCallback):api.getFeedAPI(!1).createComment(file,currentUser,text,hasMention,successCallback,this.feedErrorCallback),this.fetchFeedItems()})),ActivitySidebar_defineProperty(this,"createReply",((parentId,parentType,text)=>{const{api,currentUser,emitAnnotationReplyCreateEvent,file}=this.props;if(!currentUser)throw(0,error.pG)();const eventRequestId=uniqueId_default()("comment_");emitAnnotationReplyCreateEvent({tagged_message:text},eventRequestId,parentId,!0),api.getFeedAPI(!1).createReply(file,currentUser,parentId,parentType,text,this.createReplySuccessCallback.bind(this,eventRequestId,parentId),this.feedErrorCallback),this.fetchFeedItems()})),ActivitySidebar_defineProperty(this,"createReplySuccessCallback",((eventRequestId,parentId,reply)=>{const{emitAnnotationReplyCreateEvent}=this.props;this.feedSuccessCallback(),emitAnnotationReplyCreateEvent(reply,eventRequestId,parentId)})),ActivitySidebar_defineProperty(this,"deleteAppActivity",(_ref6=>{let{id}=_ref6;const{api,file}=this.props;api.getFeedAPI(!1).deleteAppActivity(file,id,this.feedSuccessCallback,this.feedErrorCallback),this.fetchFeedItems()})),ActivitySidebar_defineProperty(this,"fetchRepliesForFeedItems",(feedItems=>{const{activeFeedEntryId}=this.props;activeFeedEntryId&&this.getActiveFeedEntryData(feedItems).then((_ref7=>{let{id,type}=_ref7;if(!id||!type||this.isActiveEntryInFeed(feedItems,activeFeedEntryId)||!this.isItemTypeComment(type))return Promise.resolve(feedItems);const parentType=type===constants.Pyv?constants.Pyv:constants.Htd;return this.getFeedItemsWithReplies(feedItems,id,parentType)})).then((updatedItems=>this.fetchFeedItemsSuccessCallback(updatedItems))).catch((error=>this.fetchFeedItemsErrorCallback(feedItems,[error])))})),ActivitySidebar_defineProperty(this,"fetchFeedItemsSuccessCallback",(feedItems=>{const{file:{id:fileId},logger}=this.props;(0,performance.B)(MARK_NAME_DATA_READY),feedItems.length>1&&logger.onDataReadyMetric({endMarkName:MARK_NAME_DATA_READY,startMarkName:MARK_NAME_DATA_LOADING},fileId),this.setState({feedItems,activityFeedError:void 0})})),ActivitySidebar_defineProperty(this,"fetchFeedItemsErrorCallback",((feedItems,errors)=>{const{onError}=this.props;this.setState({feedItems,activityFeedError:activityFeedInlineError}),Array.isArray(errors)&&errors.length&&onError(new Error("Fetch feed items error"),constants.WrP,{showNotification:!0,errors:errors.map((_ref8=>{let{code}=_ref8;return code}))})})),ActivitySidebar_defineProperty(this,"getCommentFeedItemWithReplies",((feedItem,replies)=>ActivitySidebar_objectSpread({},feedItem,{replies}))),ActivitySidebar_defineProperty(this,"getFeedItemsWithReplies",((feedItems,id,type)=>{const{api,file}=this.props;return new Promise(((resolve,reject)=>{id&&type?api.getFeedAPI(!1).fetchReplies(file,id,type,(replies=>{const updatedFeedItems=feedItems.map((item=>{if(item.id===id&&this.isItemTypeComment(item.type)){if(item.type===constants.Htd)return this.getCommentFeedItemWithReplies(item,replies);if(item.type===constants.Pyv)return this.getCommentFeedItemWithReplies(item,replies)}return item}));resolve(updatedFeedItems)}),(error=>{reject(error)})):resolve(feedItems)}))})),ActivitySidebar_defineProperty(this,"errorCallback",(function(error,code){let contextInfo=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};console.error(error),_this.props.onError(error,code,contextInfo)})),ActivitySidebar_defineProperty(this,"getApproverContactsSuccessCallback",(collaborators=>{const{entries}=collaborators;this.setState({approverSelectorContacts:entries})})),ActivitySidebar_defineProperty(this,"getMentionContactsSuccessCallback",(collaborators=>{const{entries}=collaborators;this.setState({contactsLoaded:!1},(()=>this.setState({contactsLoaded:!0,mentionSelectorContacts:entries})))})),ActivitySidebar_defineProperty(this,"getApprover",debounce_default()((searchStr=>{const{file,api}=this.props;api.getFileCollaboratorsAPI(!1).getCollaboratorsWithQuery(file.id,this.getApproverContactsSuccessCallback,this.errorCallback,searchStr,{includeGroups:!0})}),constants.ufv)),ActivitySidebar_defineProperty(this,"getMention",debounce_default()((searchStr=>{const{file,api}=this.props;api.getFileCollaboratorsAPI(!1).getCollaboratorsWithQuery(file.id,this.getMentionContactsSuccessCallback,this.errorCallback,searchStr)}),constants.ufv)),ActivitySidebar_defineProperty(this,"getFocusableFeedItemById",((feedItems,itemId)=>{if(itemId)return feedItems.find((_ref9=>{let{id,type}=_ref9;return id===itemId&&this.isItemTypeFocusable(type)}))})),ActivitySidebar_defineProperty(this,"getCommentFeedItemByReplyId",((feedItems,replyId)=>{if(replyId)return feedItems.find((item=>!(item.type!==constants.Htd&&item.type!==constants.Pyv||!item.replies)&&item.replies.some((_ref10=>{let{id}=_ref10;return id===replyId}))))})),ActivitySidebar_defineProperty(this,"isActiveEntryInFeed",((feedItems,itemId)=>!(!this.getFocusableFeedItemById(feedItems,itemId)&&!this.getCommentFeedItemByReplyId(feedItems,itemId)))),ActivitySidebar_defineProperty(this,"isItemTypeFocusable",(type=>type===constants.Htd||type===constants.Pyv||type===constants.PNZ)),ActivitySidebar_defineProperty(this,"isItemTypeComment",(type=>type===constants.Htd||type===constants.Pyv)),ActivitySidebar_defineProperty(this,"getActiveFeedEntryData",(feedItems=>{const{activeFeedEntryId,activeFeedEntryType,api,file}=this.props;return new Promise(((resolve,reject)=>{if(!activeFeedEntryId||!activeFeedEntryType||!this.isItemTypeFocusable(activeFeedEntryType))return void resolve({});const firstLevelItem=this.getFocusableFeedItemById(feedItems,activeFeedEntryId);if(firstLevelItem){const{id,type}=firstLevelItem;return void resolve({id,type})}const firstLevelItemWithActiveReply=this.getCommentFeedItemByReplyId(feedItems,activeFeedEntryId);if(firstLevelItemWithActiveReply){const{id,type}=firstLevelItemWithActiveReply;resolve({id,type})}else api.getFeedAPI(!1).fetchThreadedComment(file,activeFeedEntryId,(_ref11=>{let{parent}=_ref11;const parentItem=this.getFocusableFeedItemById(feedItems,null==parent?void 0:parent.id),{id,type}=parentItem||{};resolve({id,type})}),(error=>{404===error.status?resolve({}):reject(error)}))}))})),ActivitySidebar_defineProperty(this,"getReplies",((id,type)=>{const{api,file}=this.props;api.getFeedAPI(!1).fetchReplies(file,id,type,this.feedSuccessCallback,this.feedErrorCallback),this.fetchFeedItems()})),ActivitySidebar_defineProperty(this,"getAvatarUrl",(async userId=>{const{file,api}=this.props;return api.getUsersAPI(!1).getAvatarUrlWithAccessToken(userId,file.id)})),ActivitySidebar_defineProperty(this,"handleAnnotationSelect",(annotation=>{const{file_version,id:nextActiveAnnotationId}=annotation,{emitActiveAnnotationChangeEvent,file,getAnnotationsMatchPath,getAnnotationsPath,history,location,onAnnotationSelect}=this.props,annotationFileVersionId=get_default()(file_version,"id"),currentFileVersionId=get_default()(file,"file_version.id"),match=getAnnotationsMatchPath(location),selectedFileVersionId=get_default()(match,"params.fileVersionId",currentFileVersionId);emitActiveAnnotationChangeEvent(nextActiveAnnotationId),annotationFileVersionId&&annotationFileVersionId!==selectedFileVersionId&&history.push(getAnnotationsPath(annotationFileVersionId,nextActiveAnnotationId)),onAnnotationSelect(annotation)})),ActivitySidebar_defineProperty(this,"handleItemsFiltered",(status=>{const{onFilterChange}=this.props;this.setState({feedItemsStatusFilter:status}),onFilterChange(status)})),ActivitySidebar_defineProperty(this,"getFilteredFeedItems",(()=>{const{feedItems,feedItemsStatusFilter}=this.state;return feedItems&&feedItemsStatusFilter&&feedItemsStatusFilter!==constants.S8M?feedItems.filter((item=>item.status===feedItemsStatusFilter||item.type===constants.Vek||item.type===feedItemsStatusFilter)):feedItems})),ActivitySidebar_defineProperty(this,"onTaskModalClose",(()=>{this.setState({approverSelectorContacts:[]})})),ActivitySidebar_defineProperty(this,"renderAddTaskButton",(()=>{const{isDisabled,hasTasks}=this.props,{approverSelectorContacts}=this.state,{getApprover,getAvatarUrl,createTask,onTaskModalClose}=this;return hasTasks?(0,jsx_runtime.jsx)(content_sidebar_AddTaskButton,{isDisabled,onTaskModalClose,taskFormProps:{approvers:[],approverSelectorContacts,completionRule:constants.Vv4,createTask,getApproverWithQuery:getApprover,getAvatarUrl,id:"",message:""}}):null})),ActivitySidebar_defineProperty(this,"renderActivitySidebarFilter",(()=>{const{features,hasTasks}=this.props,{feedItemsStatusFilter}=this.state,shouldShowActivityFeedFilter=(0,feature_checking.isFeatureEnabled)(features,"activityFeed.filter.enabled"),shouldShowAdditionalFilterOptions=(0,feature_checking.isFeatureEnabled)(features,"activityFeed.newThreadedReplies.enabled");if(!shouldShowActivityFeedFilter)return null;const activityFilterOptions=[constants.S8M,constants.MKb];return shouldShowAdditionalFilterOptions&&(activityFilterOptions.push(constants.ZQ_),hasTasks&&activityFilterOptions.push(constants.L5x)),(0,jsx_runtime.jsx)(elements_content_sidebar_ActivitySidebarFilter,{activityFilterOptions,feedItemType:feedItemsStatusFilter,onFeedItemTypeClick:selectedStatus=>{this.handleItemsFiltered(selectedStatus)}})})),ActivitySidebar_defineProperty(this,"renderActions",(()=>(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[this.renderActivitySidebarFilter(),this.renderAddTaskButton()]}))),ActivitySidebar_defineProperty(this,"renderTitle",(()=>{const{features}=this.props;return(0,feature_checking.isFeatureEnabled)(features,"activityFeed.filter.enabled")?null:(0,jsx_runtime.jsx)(message.Z,ActivitySidebar_objectSpread({},common_messages.default.sidebarActivityTitle))}));const{logger:_logger}=this.props;(0,performance.B)(MARK_NAME_DATA_LOADING),_logger.onReadyMetric({endMarkName:MARK_NAME_JS_READY}),this.state={}}componentDidMount(){this.fetchFeedItems(!0)}deleteAnnotationSuccess(id){const{emitAnnotationRemoveEvent}=this.props;this.feedSuccessCallback(),emitAnnotationRemoveEvent(id)}fetchFeedItems(){let shouldRefreshCache=arguments.length>0&&void 0!==arguments[0]&&arguments[0],shouldDestroy=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{activeFeedEntryId,activeFeedEntryType,api,file,features,hasReplies:shouldShowReplies,hasTasks:shouldShowTasks,hasVersions:shouldShowVersions}=this.props,shouldFetchReplies=shouldRefreshCache&&shouldShowReplies&&activeFeedEntryId&&activeFeedEntryType===constants.Pyv,shouldShowAppActivity=(0,feature_checking.isFeatureEnabled)(features,"activityFeed.appActivity.enabled"),shouldShowAnnotations=(0,feature_checking.isFeatureEnabled)(features,"activityFeed.annotations.enabled"),shouldUseUAA=(0,feature_checking.isFeatureEnabled)(features,"activityFeed.uaaIntegration.enabled");api.getFeedAPI(shouldDestroy).feedItems(file,shouldRefreshCache,shouldFetchReplies?this.fetchRepliesForFeedItems:this.fetchFeedItemsSuccessCallback,this.fetchFeedItemsErrorCallback,this.errorCallback,{shouldShowAnnotations,shouldShowAppActivity,shouldShowReplies,shouldShowTasks,shouldShowVersions,shouldUseUAA})}getActiveCommentPath(commentId){return commentId?(0,react_router.Gn)("/:sidebar/comments/:commentId?",{sidebar:"activity",commentId}):"/activity"}refresh(){let shouldRefreshCache=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.fetchFeedItems(shouldRefreshCache)}render(){const{activeFeedEntryId,activeFeedEntryType,currentUser,currentUserError,elementId,features,file,hasReplies,hasVersions,isDisabled=!1,onVersionHistoryClick,getUserProfileUrl,onTaskView}=this.props,{activityFeedError,approverSelectorContacts,contactsLoaded,mentionSelectorContacts}=this.state,isNewThreadedRepliesEnabled=(0,feature_checking.isFeatureEnabled)(features,"activityFeed.newThreadedReplies.enabled"),shouldUseUAA=(0,feature_checking.isFeatureEnabled)(features,"activityFeed.uaaIntegration.enabled");return(0,jsx_runtime.jsx)(SidebarContent.Z,{actions:this.renderActions(),className:classnames_default()("bcs-activity",{"bcs-activity--full":hasReplies}),elementId,sidebarView:constants.tFo,title:this.renderTitle(),children:(0,jsx_runtime.jsx)(ActivityFeed.Z,{activeFeedEntryId,activeFeedEntryType,activityFeedError,approverSelectorContacts,currentUser,currentUserError,feedItems:this.getFilteredFeedItems(),file,getApproverWithQuery:this.getApprover,getAvatarUrl:this.getAvatarUrl,getMentionWithQuery:this.getMention,getUserProfileUrl,hasNewThreadedReplies:isNewThreadedRepliesEnabled,hasReplies,hasVersions,isDisabled,mentionSelectorContacts,contactsLoaded,onAnnotationDelete:this.handleAnnotationDelete,onAnnotationEdit:this.handleAnnotationEdit,onAnnotationSelect:this.handleAnnotationSelect,onAnnotationStatusChange:this.handleAnnotationStatusChange,onAppActivityDelete:this.deleteAppActivity,onCommentCreate:this.createComment,onCommentDelete:this.deleteComment,onCommentUpdate:this.updateComment,onHideReplies:this.updateReplies,onReplyCreate:this.createReply,onReplyDelete:this.deleteReply,onReplyUpdate:this.updateReply,onShowReplies:this.getReplies,onTaskAssignmentUpdate:this.updateTaskAssignment,onTaskCreate:this.createTask,onTaskDelete:this.deleteTask,onTaskModalClose:this.onTaskModalClose,onTaskUpdate:this.updateTask,onTaskView,onVersionHistoryClick,shouldUseUAA})})}}ActivitySidebar_ActivitySidebar.displayName="ActivitySidebar",ActivitySidebar_defineProperty(ActivitySidebar_ActivitySidebar,"defaultProps",{annotatorState:{},emitActiveAnnotationChangeEvent:noop_default(),emitAnnotationRemoveEvent:noop_default(),emitAnnotationReplyCreateEvent:noop_default(),emitAnnotationReplyDeleteEvent:noop_default(),emitAnnotationReplyUpdateEvent:noop_default(),emitAnnotationUpdateEvent:noop_default(),getAnnotationsMatchPath:noop_default(),getAnnotationsPath:noop_default(),hasReplies:!1,hasTasks:!0,hasVersions:!0,isDisabled:!1,onAnnotationSelect:noop_default(),onCommentCreate:noop_default(),onCommentDelete:noop_default(),onCommentUpdate:noop_default(),onFilterChange:noop_default(),onTaskAssignmentUpdate:noop_default(),onTaskCreate:noop_default(),onTaskDelete:noop_default(),onTaskUpdate:noop_default(),onVersionChange:noop_default(),onVersionHistoryClick:noop_default()}),ActivitySidebar_ActivitySidebar.__docgenInfo={description:"",methods:[{name:"handleAnnotationDelete",docblock:null,modifiers:[],params:[{name:"{ id, permissions }: { id: string, permissions: AnnotationPermission }",type:{name:"signature",type:"object",raw:"{ id: string, permissions: AnnotationPermission }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"permissions",value:{name:"AnnotationPermission",required:!0}}]}}}],returns:null},{name:"handleAnnotationEdit",docblock:null,modifiers:[],params:[{name:"{ id, text, permissions }",type:null}],returns:null},{name:"handleAnnotationStatusChange",docblock:null,modifiers:[],params:[{name:"{ id, permissions, status }",type:null}],returns:null},{name:"deleteAnnotationSuccess",docblock:null,modifiers:[],params:[{name:"id",type:{name:"string"}}],returns:null},{name:"feedSuccessCallback",docblock:"Success callback for fetching feed items",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Success callback for fetching feed items"},{name:"feedErrorCallback",docblock:"Error callback for fetching feed items\n\n@param {Error} e - the error which occured\n@param {Error} code - the code for the error\n@param {Object} contextInfo - the context info for the error",modifiers:[],params:[{name:"e",description:"the error which occured",type:{name:"ElementsXhrError",alias:"ElementsXhrError"},optional:!1},{name:"code",description:"the code for the error",type:{name:"string"},optional:!1},{name:"contextInfo",description:"the context info for the error",type:{name:"Object",alias:"Object"},optional:!0}],returns:null,description:"Error callback for fetching feed items"},{name:"createTask",docblock:null,modifiers:[],params:[{name:"message",type:{name:"string"}},{name:"assignees",type:{name:"SelectorItems",elements:[],raw:"SelectorItems<>",alias:"SelectorItems"}},{name:"taskType",type:{name:"TaskType",alias:"TaskType"}},{name:"dueAt",type:{name:"string",nullable:!0}},{name:"completionRule",type:{name:"TaskCompletionRule",alias:"TaskCompletionRule"}},{name:"onSuccess",type:{name:"Function",nullable:!0}},{name:"onError",type:{name:"Function",nullable:!0}}],returns:{type:{name:"void"}}},{name:"deleteTask",docblock:null,modifiers:[],params:[{name:"task",type:{name:"TaskNew",alias:"TaskNew"}}],returns:{type:{name:"void"}}},{name:"updateTask",docblock:null,modifiers:[],params:[{name:"task",type:{name:"TaskUpdatePayload",alias:"TaskUpdatePayload"}},{name:"onSuccess",type:{name:"Function",nullable:!0}},{name:"onError",type:{name:"Function",nullable:!0}}],returns:{type:{name:"void"}}},{name:"updateTaskAssignment",docblock:null,modifiers:[],params:[{name:"taskId",type:{name:"string"}},{name:"taskAssignmentId",type:{name:"string"}},{name:"status",type:{name:"TaskCollabStatus",alias:"TaskCollabStatus"}}],returns:{type:{name:"void"}}},{name:"deleteComment",docblock:"Deletes a comment via the API.\n\n@param {Object} args - A subset of the comment\n@return void",modifiers:[],params:[{name:"{ id, permissions }: { id: string, permissions: BoxCommentPermission }",type:{name:"signature",type:"object",raw:"{ id: string, permissions: BoxCommentPermission }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"permissions",value:{name:"BoxCommentPermission",required:!0}}]}}}],returns:{description:"void",type:{name:"void"}},description:"Deletes a comment via the API."},{name:"deleteReply",docblock:"Deletes a reply via the API.\n\n@param {Object} args - A subset of the comment\n@return void",modifiers:[],params:[{name:"{\n    id,\n    parentId,\n    permissions,\n}: {\n    id: string,\n    parentId: string,\n    permissions: BoxCommentPermission,\n}",type:{name:"signature",type:"object",raw:"{\n    id: string,\n    parentId: string,\n    permissions: BoxCommentPermission,\n}",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"parentId",value:{name:"string",required:!0}},{key:"permissions",value:{name:"BoxCommentPermission",required:!0}}]}}}],returns:{description:"void",type:{name:"void"}},description:"Deletes a reply via the API."},{name:"deleteReplySuccessCallback",docblock:"Handles a successful deletion of a reply\n\n@private\n@param {string} id - The id of the reply\n@param {string} parentId - The id of the reply's parent item\n@return {void}",modifiers:[],params:[{name:"id",description:"The id of the reply",type:{name:"string"},optional:!1},{name:"parentId",description:"The id of the reply's parent item",type:{name:"string"},optional:!1}],returns:{description:null,type:{name:"void"}},description:"Handles a successful deletion of a reply"},{name:"updateComment",docblock:null,modifiers:[],params:[{name:"id",type:{name:"string"}},{name:"text",optional:!0,type:{name:"string"}},{name:"status",optional:!0,type:{name:"FeedItemStatus",alias:"FeedItemStatus"}},{name:"hasMention",type:{name:"boolean"}},{name:"permissions",type:{name:"BoxCommentPermission",alias:"BoxCommentPermission"}},{name:"onSuccess",type:{name:"Function",nullable:!0}},{name:"onError",type:{name:"Function",nullable:!0}}],returns:{type:{name:"void"}}},{name:"updateReply",docblock:"Updates a reply\n\n@param {string} id - id of the reply\n@param {string} parentId - id of the parent item\n@param {string} text - the reply updated text\n@param {BoxCommentPermission} permissions - permissions associated with the reply\n@param {Function} onSuccess - the success callback\n@param {Function} onError - the error callback\n@return {void}",modifiers:[],params:[{name:"id",description:"id of the reply",type:{name:"string"},optional:!1},{name:"parentId",description:"id of the parent item",type:{name:"string"},optional:!1},{name:"text",description:"the reply updated text",type:{name:"string"},optional:!1},{name:"permissions",description:"permissions associated with the reply",type:{name:"BoxCommentPermission",alias:"BoxCommentPermission"},optional:!1},{name:"onSuccess",description:"the success callback",type:{name:"Function",nullable:!0},optional:!1},{name:"onError",description:"the error callback",type:{name:"Function",nullable:!0},optional:!1}],returns:{description:null,type:{name:"void"}},description:"Updates a reply"},{name:"updateReplies",docblock:"Updates replies of a comment or annotation in the Feed\n\n@param {string} id - id of the feed item\n@param {Array<Comment>} replies - replies\n@return {void}",modifiers:[],params:[{name:"id",description:"id of the feed item",type:{name:"string"},optional:!1},{name:"replies",description:"replies",type:{name:"Array",elements:[{name:"Comment"}],raw:"Array<Comment>",alias:"Array"},optional:!1}],returns:{description:null,type:{name:"void"}},description:"Updates replies of a comment or annotation in the Feed"},{name:"updateReplySuccessCallback",docblock:"Handles a successful update of a reply\n\n@private\n@param {string} parentId - The id of the reply's parent item\n@param {Function} onSuccess - the success callback\n@param {Comment} reply - The reply comment object\n@return {void}",modifiers:[],params:[{name:"parentId",description:"The id of the reply's parent item",type:{name:"string"},optional:!1},{name:"onSuccess",description:"the success callback",type:{name:"Function",nullable:!0},optional:!1},{name:"reply",description:"The reply comment object",type:{name:"Comment",alias:"Comment"},optional:!1}],returns:{description:null,type:{name:"void"}},description:"Handles a successful update of a reply"},{name:"createComment",docblock:"Posts a new comment to the API\n\n@param {string} text - The comment's text\n@param {boolean} hasMention - The comment's text\n@return {void}",modifiers:[],params:[{name:"text",description:"The comment's text",type:{name:"string"},optional:!1},{name:"hasMention",description:"The comment's text",type:{name:"boolean"},optional:!1}],returns:{description:null,type:{name:"void"}},description:"Posts a new comment to the API"},{name:"createReply",docblock:"Posts a new reply to the API\n\n@param {string} parentId - The id of the parent item\n@param {CommentFeedItemType} parentType - The type of the parent item\n@param {string} text - The text of reply\n@return {void}",modifiers:[],params:[{name:"parentId",description:"The id of the parent item",type:{name:"string"},optional:!1},{name:"parentType",description:"The type of the parent item",type:{name:"CommentFeedItemType",alias:"CommentFeedItemType"},optional:!1},{name:"text",description:"The text of reply",type:{name:"string"},optional:!1}],returns:{description:null,type:{name:"void"}},description:"Posts a new reply to the API"},{name:"createReplySuccessCallback",docblock:"Handles a successful creation of a reply\n\n@private\n@param {string} eventRequestId - The id of the parent item\n@param {string} parentId - The id of the reply's parent item\n@param {Comment} reply - The reply comment object\n@return {void}",modifiers:[],params:[{name:"eventRequestId",description:"The id of the parent item",type:{name:"string"},optional:!1},{name:"parentId",description:"The id of the reply's parent item",type:{name:"string"},optional:!1},{name:"reply",description:"The reply comment object",type:{name:"Comment",alias:"Comment"},optional:!1}],returns:{description:null,type:{name:"void"}},description:"Handles a successful creation of a reply"},{name:"deleteAppActivity",docblock:"Deletes an app activity item via the API.\n\n@param {Object} args - A subset of the app activity\n@return void",modifiers:[],params:[{name:"{ id }: { id: string }",type:{name:"signature",type:"object",raw:"{ id: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}}]}}}],returns:{description:"void",type:{name:"void"}},description:"Deletes an app activity item via the API."},{name:"fetchFeedItems",docblock:"Fetches the feed items for the sidebar\n\n@param {boolean} shouldRefreshCache true if the cache should be refreshed\n@param {boolean} shouldDestroy true if the api factory should be destroyed",modifiers:[],params:[{name:"shouldRefreshCache",description:"true if the cache should be refreshed",type:{name:"boolean"},optional:!1},{name:"shouldDestroy",description:"true if the api factory should be destroyed",type:{name:"boolean"},optional:!1}],returns:null,description:"Fetches the feed items for the sidebar"},{name:"fetchRepliesForFeedItems",docblock:null,modifiers:[],params:[{name:"feedItems",type:{name:"FeedItems",alias:"FeedItems"}}],returns:null},{name:"fetchFeedItemsSuccessCallback",docblock:"Handles a successful feed API fetch\n\n@private\n@param {Array} feedItems - the feed items\n@return {void}",modifiers:[],params:[{name:"feedItems",description:"the feed items",type:{name:"FeedItems",alias:"FeedItems"},optional:!1}],returns:{description:null,type:{name:"void"}},description:"Handles a successful feed API fetch"},{name:"fetchFeedItemsErrorCallback",docblock:"Handles a failed feed item fetch\n\n@private\n@param {Error} e - API error\n@return {void}",modifiers:[],params:[{name:"feedItems",type:{name:"FeedItems",alias:"FeedItems"}},{name:"errors",type:{name:"Array",elements:[{name:"ElementsXhrError"}],raw:"ElementsXhrError[]"}}],returns:{description:null,type:{name:"void"}},description:"Handles a failed feed item fetch"},{name:"getCommentFeedItemWithReplies",docblock:null,modifiers:[],params:[{name:"feedItem",type:{name:"T",alias:"T"}},{name:"replies",type:{name:"Array",elements:[{name:"Comment"}],raw:"Array<Comment>",alias:"Array"}}],returns:{type:{name:"T"}}},{name:"getFeedItemsWithReplies",docblock:null,modifiers:[],params:[{name:"feedItems",type:{name:"FeedItems",alias:"FeedItems"}},{name:"id",optional:!0,type:{name:"string"}},{name:"type",optional:!0,type:{name:"CommentFeedItemType",alias:"CommentFeedItemType"}}],returns:{type:{name:"Promise",elements:[{name:"FeedItems"}],raw:"Promise<FeedItems>"}}},{name:"errorCallback",docblock:"Network error callback\n\n@private\n@param {Error} error - Error object\n@param {Error} code - the code for the error\n@param {Object} contextInfo - the context info for the error\n@return {void}",modifiers:[],params:[{name:"error",description:"Error object",type:{name:"ElementsXhrError",alias:"ElementsXhrError"},optional:!1},{name:"code",description:"the code for the error",type:{name:"string"},optional:!1},{name:"contextInfo",description:"the context info for the error",type:{name:"Object"},optional:!1}],returns:{description:null,type:{name:"void"}},description:"Network error callback"},{name:"getApproverContactsSuccessCallback",docblock:"File approver contacts fetch success callback\n\n@private\n@param {BoxItemCollection} collaborators - Collaborators response data\n@return {void}",modifiers:[],params:[{name:"collaborators",description:"Collaborators response data",type:{name:"signature",type:"object",raw:"{ entries: SelectorItems<> }",signature:{properties:[{key:"entries",value:{name:"SelectorItems",elements:[],raw:"SelectorItems<>",required:!0}}]}},optional:!1}],returns:{description:null,type:{name:"void"}},description:"File approver contacts fetch success callback"},{name:"getMentionContactsSuccessCallback",docblock:"File @mention contacts fetch success callback\n\n@private\n@param {BoxItemCollection} collaborators - Collaborators response data\n@return {void}",modifiers:[],params:[{name:"collaborators",description:"Collaborators response data",type:{name:"signature",type:"object",raw:"{ entries: SelectorItems<> }",signature:{properties:[{key:"entries",value:{name:"SelectorItems",elements:[],raw:"SelectorItems<>",required:!0}}]}},optional:!1}],returns:{description:null,type:{name:"void"}},description:"File @mention contacts fetch success callback"},{name:"getFocusableFeedItemById",docblock:"Returns feed item based on the item id\n\n@param {FeedItems} feedItems - the feed items\n@param {string} itemId - feed item id\n@return {FeedItem | undefined}",modifiers:[],params:[{name:"feedItems",description:"the feed items",type:{name:"FeedItems",alias:"FeedItems"},optional:!1},{name:"itemId",description:"feed item id",type:{name:"string"},optional:!0}],returns:{description:null,type:{name:"union",raw:"FeedItem | typeof undefined",elements:[{name:"FeedItem"},{name:"undefined"}]}},description:"Returns feed item based on the item id"},{name:"getCommentFeedItemByReplyId",docblock:"Returns parent feed item based on the reply id\n\n@param {FeedItems} feedItems - the feed items\n@param {string} replyId - feed item's reply id\n@return {FeedItem | undefined}",modifiers:[],params:[{name:"feedItems",description:"the feed items",type:{name:"FeedItems",alias:"FeedItems"},optional:!1},{name:"replyId",description:"feed item's reply id",type:{name:"string"},optional:!0}],returns:{description:null,type:{name:"union",raw:"FeedItem | typeof undefined",elements:[{name:"FeedItem"},{name:"undefined"}]}},description:"Returns parent feed item based on the reply id"},{name:"isActiveEntryInFeed",docblock:"Returns true if item (based on given item id) is found within feed items or its replies and it, or its parent, can be active (focusable)\n\n@param {FeedItems} feedItems - the feed items\n@param {string} itemId - feed item id\n@return {boolean}",modifiers:[],params:[{name:"feedItems",description:"the feed items",type:{name:"FeedItems",alias:"FeedItems"},optional:!1},{name:"itemId",description:"feed item id",type:{name:"string"},optional:!1}],returns:{description:null,type:{name:"boolean"}},description:"Returns true if item (based on given item id) is found within feed items or its replies and it, or its parent, can be active (focusable)"},{name:"isItemTypeFocusable",docblock:null,modifiers:[],params:[{name:"type",optional:!0,type:{name:"union",raw:"FeedItemType | FocusableFeedItem | CommentFeedItemType",elements:[{name:"FeedItemType"},{name:"FocusableFeedItem"},{name:"CommentFeedItemType"}]}}],returns:{type:{name:"boolean"}}},{name:"isItemTypeComment",docblock:null,modifiers:[],params:[{name:"type",optional:!0,type:{name:"union",raw:"FeedItemType | FocusableFeedItem | CommentFeedItemType",elements:[{name:"FeedItemType"},{name:"FocusableFeedItem"},{name:"CommentFeedItemType"}]}}],returns:{type:{name:"boolean"}}},{name:"getActiveFeedEntryData",docblock:"Returns active entry data (id, type) based on the activeFeedEntryId and activeFeedEntryType values\n(it can be existing item or parent if the active entry id belongs to a reply)\n\n@param {FeedItems} feedItems - the feed items\n@return {Promise<{ id: string, type?: FocusableFeedItemType }>}",modifiers:[],params:[{name:"feedItems",description:"the feed items",type:{name:"FeedItems",alias:"FeedItems"},optional:!1}],returns:{type:{name:"Promise",elements:[{name:"signature",type:"object",raw:"{ id?: string, type?: FeedItemType }",signature:{properties:[{key:"id",value:{name:"string",required:!1}},{key:"type",value:{name:"FeedItemType",required:!1}}]}}],raw:"Promise<{ id?: string, type?: FeedItemType }>"}},description:"Returns active entry data (id, type) based on the activeFeedEntryId and activeFeedEntryType values\n(it can be existing item or parent if the active entry id belongs to a reply)"},{name:"getActiveCommentPath",docblock:null,modifiers:[],params:[{name:"commentId",optional:!0,type:{name:"string"}}],returns:{type:{name:"string"}}},{name:"getReplies",docblock:"Fetches replies (comments) of a comment or annotation\n\n@param {string} id - id of the feed item\n@param {CommentFeedItemType} type - type of the feed item\n@return {void}",modifiers:[],params:[{name:"id",description:"id of the feed item",type:{name:"string"},optional:!1},{name:"type",description:"type of the feed item",type:{name:"CommentFeedItemType",alias:"CommentFeedItemType"},optional:!1}],returns:{description:null,type:{name:"void"}},description:"Fetches replies (comments) of a comment or annotation"},{name:"getAvatarUrl",docblock:"Gets the user avatar URL\n\n@param {string} userId the user id\n@param {string} fileId the file id\n@return the user avatar URL string for a given user with access token attached",modifiers:["async"],params:[{name:"userId",description:"the user id",type:{name:"string"},optional:!1}],returns:{description:"the user avatar URL string for a given user with access token attached",type:{name:"Promise",elements:[{name:"string",nullable:!0}],raw:"Promise<?string>"}},description:"Gets the user avatar URL"},{name:"handleAnnotationSelect",docblock:null,modifiers:[],params:[{name:"annotation",type:{name:"Annotation",alias:"Annotation"}}],returns:{type:{name:"void"}}},{name:"handleItemsFiltered",docblock:null,modifiers:[],params:[{name:"status",optional:!0,type:{name:"ActivityFilterItemType",alias:"ActivityFilterItemType"}}],returns:null},{name:"getFilteredFeedItems",docblock:null,modifiers:[],params:[],returns:{type:{name:"union",raw:"FeedItems | typeof undefined",elements:[{name:"FeedItems"},{name:"undefined"}]}}},{name:"onTaskModalClose",docblock:null,modifiers:[],params:[],returns:null},{name:"refresh",docblock:null,modifiers:[],params:[{name:"shouldRefreshCache",type:null}],returns:{type:{name:"void"}}},{name:"renderAddTaskButton",docblock:null,modifiers:[],params:[],returns:null},{name:"renderActivitySidebarFilter",docblock:null,modifiers:[],params:[],returns:null},{name:"renderActions",docblock:null,modifiers:[],params:[],returns:null},{name:"renderTitle",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ActivitySidebar",props:{annotatorState:{defaultValue:{value:"{}",computed:!1},required:!1},emitActiveAnnotationChangeEvent:{defaultValue:{value:"noop",computed:!0},required:!1},emitAnnotationRemoveEvent:{defaultValue:{value:"noop",computed:!0},required:!1},emitAnnotationReplyCreateEvent:{defaultValue:{value:"noop",computed:!0},required:!1},emitAnnotationReplyDeleteEvent:{defaultValue:{value:"noop",computed:!0},required:!1},emitAnnotationReplyUpdateEvent:{defaultValue:{value:"noop",computed:!0},required:!1},emitAnnotationUpdateEvent:{defaultValue:{value:"noop",computed:!0},required:!1},getAnnotationsMatchPath:{defaultValue:{value:"noop",computed:!0},required:!1},getAnnotationsPath:{defaultValue:{value:"noop",computed:!0},required:!1},hasReplies:{defaultValue:{value:"false",computed:!1},required:!1,flowType:{name:"boolean"},description:""},hasTasks:{defaultValue:{value:"true",computed:!1},required:!1,flowType:{name:"boolean"},description:""},hasVersions:{defaultValue:{value:"true",computed:!1},required:!1,flowType:{name:"boolean"},description:""},isDisabled:{defaultValue:{value:"false",computed:!1},required:!1,flowType:{name:"boolean"},description:""},onAnnotationSelect:{defaultValue:{value:"noop",computed:!0},required:!1,flowType:{name:"Function"},description:""},onCommentCreate:{defaultValue:{value:"noop",computed:!0},required:!1,flowType:{name:"Function"},description:""},onCommentDelete:{defaultValue:{value:"noop",computed:!0},required:!1,flowType:{name:"signature",type:"function",raw:"(comment: Comment) => any",signature:{arguments:[{name:"comment",type:{name:"Comment"}}],return:{name:"any"}}},description:""},onCommentUpdate:{defaultValue:{value:"noop",computed:!0},required:!1,flowType:{name:"signature",type:"function",raw:"() => any",signature:{arguments:[],return:{name:"any"}}},description:""},onFilterChange:{defaultValue:{value:"noop",computed:!0},required:!1,flowType:{name:"signature",type:"function",raw:"(status?: ActivityFilterItemType) => void",signature:{arguments:[{name:"status",type:{name:"ActivityFilterItemType"}}],return:{name:"void"}}},description:""},onTaskAssignmentUpdate:{defaultValue:{value:"noop",computed:!0},required:!1,flowType:{name:"Function"},description:""},onTaskCreate:{defaultValue:{value:"noop",computed:!0},required:!1,flowType:{name:"Function"},description:""},onTaskDelete:{defaultValue:{value:"noop",computed:!0},required:!1,flowType:{name:"signature",type:"function",raw:"(id: string) => any",signature:{arguments:[{name:"id",type:{name:"string"}}],return:{name:"any"}}},description:""},onTaskUpdate:{defaultValue:{value:"noop",computed:!0},required:!1,flowType:{name:"signature",type:"function",raw:"() => any",signature:{arguments:[],return:{name:"any"}}},description:""},onVersionChange:{defaultValue:{value:"noop",computed:!0},required:!1,flowType:{name:"Function"},description:""},onVersionHistoryClick:{defaultValue:{value:"noop",computed:!0},required:!1,flowType:{name:"Function"},description:""},api:{required:!0,flowType:{name:"API"},description:""},features:{required:!0,flowType:{name:"FeatureConfig"},description:""},elementId:{required:!0,flowType:{name:"string"},description:""},file:{required:!0,flowType:{name:"BoxItem"},description:""},hasSidebarInitialized:{required:!1,flowType:{name:"boolean"},description:""},translations:{required:!1,flowType:{name:"Translations"},description:""},activeFeedEntryId:{required:!1,flowType:{name:"string"},description:""},activeFeedEntryType:{required:!1,flowType:{name:"FocusableFeedItemType"},description:""},currentUser:{required:!1,flowType:{name:"User"},description:""},currentUserError:{required:!1,flowType:{name:"Errors"},description:""},getUserProfileUrl:{required:!1,flowType:{name:"GetProfileUrlCallback"},description:""},onTaskView:{required:!0,flowType:{name:"signature",type:"function",raw:"(id: string, isCreator: boolean) => any",signature:{arguments:[{name:"id",type:{name:"string"}},{name:"isCreator",type:{name:"boolean"}}],return:{name:"any"}}},description:""}}};const elements_content_sidebar_ActivitySidebar=flow_default()([(0,logger.n)(constants.fTU),(0,error_boundary.P)(constants.fTU),api_context.O,feature_checking.withFeatureConsumer,annotator_context.c6,routing.E])(ActivitySidebar_ActivitySidebar)}}]);