(globalThis.webpackChunkbox_ui_elements=globalThis.webpackChunkbox_ui_elements||[]).push([[96355],{"./src/components/time/ReadableTime.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,dateInTheFutureWhenNotAllowed:()=>dateInTheFutureWhenNotAllowed,dateWithTime:()=>dateWithTime,dateWithoutTime:()=>dateWithoutTime,default:()=>ReadableTime_stories,relativeTimestamps:()=>relativeTimestamps});__webpack_require__("./node_modules/react/index.js");var ReadableTime=__webpack_require__("./src/components/time/ReadableTime.js");var _relativeTimestamps$p,_relativeTimestamps$p2,_relativeTimestamps$p3,_dateWithoutTime$para,_dateWithoutTime$para2,_dateWithoutTime$para3,_dateWithTime$paramet,_dateWithTime$paramet2,_dateWithTime$paramet3,_dateInTheFutureWhenN,_dateInTheFutureWhenN2,_dateInTheFutureWhenN3,jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const relativeTimestamps=()=>(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(ReadableTime.Z,{timestamp:Date.now()-36e5+18e5,relativeThreshold:36e5})}),(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(ReadableTime.Z,{timestamp:Date.now()-72e5,relativeThreshold:36e5})}),(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(ReadableTime.Z,{timestamp:Date.now()-864e5,relativeThreshold:36e5})})]});relativeTimestamps.displayName="relativeTimestamps";const dateWithoutTime=()=>(0,jsx_runtime.jsx)(ReadableTime.Z,{timestamp:Date.now()-6048e5,relativeThreshold:36e5});dateWithoutTime.displayName="dateWithoutTime";const dateWithTime=()=>(0,jsx_runtime.jsx)(ReadableTime.Z,{timestamp:Date.now()-6048e5,relativeThreshold:36e5,alwaysShowTime:!0});dateWithTime.displayName="dateWithTime";const dateInTheFutureWhenNotAllowed=()=>(0,jsx_runtime.jsx)(ReadableTime.Z,{timestamp:Date.now()+6048e6,relativeThreshold:36e5,allowFutureTimestamps:!1});dateInTheFutureWhenNotAllowed.displayName="dateInTheFutureWhenNotAllowed";const ReadableTime_stories={title:"Components/ReadableTime",component:ReadableTime.Z,parameters:{notes:"`import ReadableTime from 'box-ui-elements/es/components/time';`\n"}};relativeTimestamps.parameters=_objectSpread({},relativeTimestamps.parameters,{docs:_objectSpread({},null===(_relativeTimestamps$p=relativeTimestamps.parameters)||void 0===_relativeTimestamps$p?void 0:_relativeTimestamps$p.docs,{source:_objectSpread({originalSource:"() => <div>\n        <div>\n            <ReadableTime timestamp={Date.now() - MILLISECONDS_PER_HOUR + 30 * 60 * 1000} relativeThreshold={MILLISECONDS_PER_HOUR} />\n        </div>\n        <div>\n            <ReadableTime timestamp={Date.now() - 2 * MILLISECONDS_PER_HOUR} relativeThreshold={MILLISECONDS_PER_HOUR} />\n        </div>\n        <div>\n            <ReadableTime timestamp={Date.now() - MILLISECONDS_PER_DAY} relativeThreshold={MILLISECONDS_PER_HOUR} />\n        </div>\n    </div>"},null===(_relativeTimestamps$p2=relativeTimestamps.parameters)||void 0===_relativeTimestamps$p2||null===(_relativeTimestamps$p3=_relativeTimestamps$p2.docs)||void 0===_relativeTimestamps$p3?void 0:_relativeTimestamps$p3.source)})}),dateWithoutTime.parameters=_objectSpread({},dateWithoutTime.parameters,{docs:_objectSpread({},null===(_dateWithoutTime$para=dateWithoutTime.parameters)||void 0===_dateWithoutTime$para?void 0:_dateWithoutTime$para.docs,{source:_objectSpread({originalSource:"() => <ReadableTime timestamp={Date.now() - MILLISECONDS_PER_WEEK} relativeThreshold={MILLISECONDS_PER_HOUR} />"},null===(_dateWithoutTime$para2=dateWithoutTime.parameters)||void 0===_dateWithoutTime$para2||null===(_dateWithoutTime$para3=_dateWithoutTime$para2.docs)||void 0===_dateWithoutTime$para3?void 0:_dateWithoutTime$para3.source)})}),dateWithTime.parameters=_objectSpread({},dateWithTime.parameters,{docs:_objectSpread({},null===(_dateWithTime$paramet=dateWithTime.parameters)||void 0===_dateWithTime$paramet?void 0:_dateWithTime$paramet.docs,{source:_objectSpread({originalSource:"() => <ReadableTime timestamp={Date.now() - MILLISECONDS_PER_WEEK} relativeThreshold={MILLISECONDS_PER_HOUR} alwaysShowTime />"},null===(_dateWithTime$paramet2=dateWithTime.parameters)||void 0===_dateWithTime$paramet2||null===(_dateWithTime$paramet3=_dateWithTime$paramet2.docs)||void 0===_dateWithTime$paramet3?void 0:_dateWithTime$paramet3.source)})}),dateInTheFutureWhenNotAllowed.parameters=_objectSpread({},dateInTheFutureWhenNotAllowed.parameters,{docs:_objectSpread({},null===(_dateInTheFutureWhenN=dateInTheFutureWhenNotAllowed.parameters)||void 0===_dateInTheFutureWhenN?void 0:_dateInTheFutureWhenN.docs,{source:_objectSpread({originalSource:"() => <ReadableTime timestamp={Date.now() + 70 * MILLISECONDS_PER_DAY} relativeThreshold={MILLISECONDS_PER_HOUR} allowFutureTimestamps={false} />"},null===(_dateInTheFutureWhenN2=dateInTheFutureWhenNotAllowed.parameters)||void 0===_dateInTheFutureWhenN2||null===(_dateInTheFutureWhenN3=_dateInTheFutureWhenN2.docs)||void 0===_dateInTheFutureWhenN3?void 0:_dateInTheFutureWhenN3.source)})});const __namedExportsOrder=["relativeTimestamps","dateWithoutTime","dateWithTime","dateInTheFutureWhenNotAllowed"];relativeTimestamps.__docgenInfo={description:"",methods:[],displayName:"relativeTimestamps"},dateWithoutTime.__docgenInfo={description:"",methods:[],displayName:"dateWithoutTime"},dateWithTime.__docgenInfo={description:"",methods:[],displayName:"dateWithTime"},dateInTheFutureWhenNotAllowed.__docgenInfo={description:"",methods:[],displayName:"dateInTheFutureWhenNotAllowed"}},"./src/components/time/ReadableTime.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>time_ReadableTime});var injectIntl=__webpack_require__("./node_modules/react-intl/lib/src/components/injectIntl.js"),constants=__webpack_require__("./src/constants.js"),datetime=__webpack_require__("./src/utils/datetime.js");const relativeTime=ms=>{const diff=ms-Date.now();return Math.abs(diff)>=3154e7?{value:Math.trunc(diff/3154e7),unit:"year"}:Math.abs(diff)>=6048e5?{value:Math.trunc(diff/6048e5),unit:"week"}:Math.abs(diff)>=864e5?{value:Math.trunc(diff/864e5),unit:"day"}:Math.abs(diff)>=36e5?{value:Math.trunc(diff/36e5),unit:"hour"}:Math.abs(diff)>=6e4?{value:Math.trunc(diff/6e4),unit:"minute"}:{value:Math.trunc(diff/1e3),unit:"second"}};const time_messages=(0,__webpack_require__("./node_modules/react-intl/lib/index.js").vU)({eventTime:{id:"boxui.readableTime.eventTime",defaultMessage:"{time, date, medium}"},eventTimeToday:{id:"boxui.readableTime.eventTimeToday",defaultMessage:"Today at {time, time, short}"},eventTimeYesterday:{id:"boxui.readableTime.eventTimeYesterday",defaultMessage:"Yesterday at {time, time, short}"},eventTimeDate:{id:"boxui.readableTime.eventTimeDate",defaultMessage:"{time, date, medium} at {time, time, short}"},eventTimeDateShort:{id:"boxui.readableTime.eventTimeDateShort",defaultMessage:"{date} at {time, time, short}"},eventTimeWeekdayLong:{id:"boxui.readableTime.eventTimeWeekdayLong",defaultMessage:"{weekday}, {time, date, medium}"}}),nonUppercaseLocales=["ru"],time_ReadableTime=(0,injectIntl.ZP)((_ref=>{let{intl,timestamp,relativeThreshold=constants._9_,allowFutureTimestamps=!0,alwaysShowTime=!1,showWeekday=!1,uppercase=!1}=_ref;const shouldUppercase=uppercase&&!nonUppercaseLocales.includes(intl.locale),relativeIfNewerThanTs=Date.now()-relativeThreshold,shouldShowYear=!(0,datetime.lL)(timestamp);!allowFutureTimestamps&&timestamp>Date.now()&&(timestamp=relativeIfNewerThanTs);let output,dateMessage=time_messages.eventTime,date=null,weekday=null;if((0,datetime.zk)(timestamp))dateMessage=time_messages.eventTimeToday;else if((0,datetime.gO)(timestamp))dateMessage=time_messages.eventTimeYesterday;else if(showWeekday)dateMessage=time_messages.eventTimeWeekdayLong,weekday=intl.formatDate(timestamp,{weekday:"long"});else if(shouldShowYear&&alwaysShowTime)dateMessage=time_messages.eventTimeDate;else if(!shouldShowYear&&alwaysShowTime)dateMessage=time_messages.eventTimeDateShort,date=intl.formatDate(timestamp,{month:"short",day:"numeric"});else if(!shouldShowYear&&!alwaysShowTime)return output=intl.formatDate(timestamp,{month:"short",day:"numeric"}),shouldUppercase?output.toLocaleUpperCase(intl.locale):output;const values={time:timestamp,date,weekday};output=intl.formatMessage(dateMessage,values);const timeDiff=timestamp-Date.now();if(Math.abs(timeDiff)<=relativeThreshold){const{value,unit}=relativeTime(timestamp);output=intl.formatRelativeTime(value,unit)}return shouldUppercase?output.toLocaleUpperCase(intl.locale):output}))},"./src/utils/datetime.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AY:()=>convertISOStringToUTCDate,HW:()=>isCurrentMonth,gO:()=>isYesterday,kB:()=>convertToDate,lL:()=>isCurrentYear,mr:()=>formatTime,qb:()=>isValidDate,t0:()=>convertToMs,yG:()=>addTime,zJ:()=>convertDateToUnixMidnightTime,zk:()=>isToday});var lodash_isNaN__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/isNaN.js"),lodash_isNaN__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_isNaN__WEBPACK_IMPORTED_MODULE_0__);const MILLISECONDS_PER_SECOND=1e3,MILLISECONDS_PER_DAY=86400*MILLISECONDS_PER_SECOND,MILLISECONDS_PER_MINUTE=60*MILLISECONDS_PER_SECOND,RE_ISO8601_DATE=/^(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{1,3})?)?((Z$)|(?:[+-](?:([0-2]\d$)|([0-2]\d(?:00|30)$)|([0-2]\d:(?:00|30)$))))$/,ISO8601_DATETIME=1,ISO8601_MILLISECONDS=2,ISO8601_TIMEZONE=3,ISO8601_Z_FMT=4,ISO8601_SHORT_FMT=5,ISO8601_MEDIUM_FMT=6,ISO8601_LONG_FMT=7;function convertToDate(dateValue){return dateValue instanceof Date?dateValue:new Date(dateValue)}function convertToMs(seconds){return seconds*MILLISECONDS_PER_SECOND}function isToday(dateValue){return(new Date).toDateString()===convertToDate(dateValue).toDateString()}function isYesterday(dateValue){return isToday(convertToDate(dateValue).getTime()+MILLISECONDS_PER_DAY)}function isCurrentMonth(dateValue){return(new Date).getMonth()===convertToDate(dateValue).getMonth()}function isCurrentYear(dateValue){return(new Date).getFullYear()===convertToDate(dateValue).getFullYear()}function formatTime(seconds){const h=Math.floor(seconds/3600),m=Math.floor(seconds%3600/60),s=Math.floor(seconds%3600%60),hour=h>0?"".concat(h.toString(),":"):"",sec=s<10?"0".concat(s.toString()):s.toString();let min=m.toString();return h>0&&m<10&&(min="0".concat(min)),"".concat(hour).concat(min,":").concat(sec)}function addTime(dateValue,timeToAdd){return dateValue instanceof Date?new Date(dateValue.getTime()+timeToAdd):dateValue+timeToAdd}function convertDateToUnixMidnightTime(date){return date.getTime()-date.getTimezoneOffset()*MILLISECONDS_PER_MINUTE}function isValidDate(date){return!lodash_isNaN__WEBPACK_IMPORTED_MODULE_0___default()(date.getTime())}function convertISOStringToUTCDate(isoString){const utcDate=new Date(function convertISOStringtoRFC3339String(isoString){if(RE_ISO8601_DATE.test(isoString)){const parseDate=isoString.split(RE_ISO8601_DATE);let dateTime=parseDate[ISO8601_DATETIME];const milliseconds=parseDate[ISO8601_MILLISECONDS],timeZone=parseDate[ISO8601_TIMEZONE];if(milliseconds||(dateTime+=".000"),parseDate[ISO8601_Z_FMT])return isoString;if(parseDate[ISO8601_SHORT_FMT])return"".concat(dateTime+timeZone,":00");if(parseDate[ISO8601_MEDIUM_FMT])return"".concat(dateTime+timeZone.substr(0,3),":").concat(timeZone.substr(3));if(parseDate[ISO8601_LONG_FMT])return isoString}return isoString}(isoString)),utcTime=utcDate.getTime(),timezoneOffsetInMins=utcDate.getTimezoneOffset();return new Date(utcTime+timezoneOffsetInMins*MILLISECONDS_PER_MINUTE)}},"./node_modules/lodash/_Symbol.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Symbol=__webpack_require__("./node_modules/lodash/_root.js").Symbol;module.exports=Symbol},"./node_modules/lodash/_baseGetTag.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Symbol=__webpack_require__("./node_modules/lodash/_Symbol.js"),getRawTag=__webpack_require__("./node_modules/lodash/_getRawTag.js"),objectToString=__webpack_require__("./node_modules/lodash/_objectToString.js"),symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function baseGetTag(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}},"./node_modules/lodash/_freeGlobal.js":(module,__unused_webpack_exports,__webpack_require__)=>{var freeGlobal="object"==typeof __webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g;module.exports=freeGlobal},"./node_modules/lodash/_getRawTag.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Symbol=__webpack_require__("./node_modules/lodash/_Symbol.js"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}},"./node_modules/lodash/_objectToString.js":module=>{var nativeObjectToString=Object.prototype.toString;module.exports=function objectToString(value){return nativeObjectToString.call(value)}},"./node_modules/lodash/_root.js":(module,__unused_webpack_exports,__webpack_require__)=>{var freeGlobal=__webpack_require__("./node_modules/lodash/_freeGlobal.js"),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},"./node_modules/lodash/isNaN.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isNumber=__webpack_require__("./node_modules/lodash/isNumber.js");module.exports=function isNaN(value){return isNumber(value)&&value!=+value}},"./node_modules/lodash/isNumber.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js");module.exports=function isNumber(value){return"number"==typeof value||isObjectLike(value)&&"[object Number]"==baseGetTag(value)}},"./node_modules/lodash/isObjectLike.js":module=>{module.exports=function isObjectLike(value){return null!=value&&"object"==typeof value}},"./node_modules/react-intl/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ji:()=>FormattedDate,BK:()=>FormattedNumber,vU:()=>defineMessages});var DisplayName,DisplayNameParts,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react=__webpack_require__("./node_modules/react/index.js"),components_useIntl=__webpack_require__("./node_modules/react-intl/lib/src/components/useIntl.js");!function(DisplayName){DisplayName.formatDate="FormattedDate",DisplayName.formatTime="FormattedTime",DisplayName.formatNumber="FormattedNumber",DisplayName.formatList="FormattedList",DisplayName.formatDisplayName="FormattedDisplayName"}(DisplayName||(DisplayName={})),function(DisplayNameParts){DisplayNameParts.formatDate="FormattedDateParts",DisplayNameParts.formatTime="FormattedTimeParts",DisplayNameParts.formatNumber="FormattedNumberParts",DisplayNameParts.formatList="FormattedListParts"}(DisplayNameParts||(DisplayNameParts={}));var FormattedNumberParts=function(props){var intl=(0,components_useIntl.Z)(),value=props.value,children=props.children,formatProps=(0,tslib_es6._T)(props,["value","children"]);return children(intl.formatNumberToParts(value,formatProps))};FormattedNumberParts.displayName="FormattedNumberParts";function createFormattedDateTimePartsComponent(name){var ComponentParts=function(props){var intl=(0,components_useIntl.Z)(),value=props.value,children=props.children,formatProps=(0,tslib_es6._T)(props,["value","children"]),date="string"==typeof value?new Date(value||0):value;return children("formatDate"===name?intl.formatDateToParts(date,formatProps):intl.formatTimeToParts(date,formatProps))};return ComponentParts.displayName=DisplayNameParts[name],ComponentParts}function createFormattedComponent(name){var Component=function(props){var intl=(0,components_useIntl.Z)(),value=props.value,children=props.children,formatProps=(0,tslib_es6._T)(props,["value","children"]),formattedValue=intl[name](value,formatProps);if("function"==typeof children)return children(formattedValue);var Text=intl.textComponent||react.Fragment;return react.createElement(Text,null,formattedValue)};return Component.displayName=DisplayName[name],Component}function defineMessages(msgs){return msgs}FormattedNumberParts.displayName="FormattedNumberParts";var FormattedDate=createFormattedComponent("formatDate"),FormattedNumber=(createFormattedComponent("formatTime"),createFormattedComponent("formatNumber"));createFormattedComponent("formatList"),createFormattedComponent("formatDisplayName"),createFormattedDateTimePartsComponent("formatDate"),createFormattedDateTimePartsComponent("formatTime")},"./node_modules/react-intl/lib/src/components/useIntl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>useIntl});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_injectIntl__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-intl/lib/src/components/injectIntl.js"),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-intl/lib/src/utils.js");function useIntl(){var intl=react__WEBPACK_IMPORTED_MODULE_0__.useContext(_injectIntl__WEBPACK_IMPORTED_MODULE_1__._y);return(0,_utils__WEBPACK_IMPORTED_MODULE_2__.lq)(intl),intl}}}]);